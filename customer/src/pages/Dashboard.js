//References:
/*
Education, (. T. I. I. o., 2021. INFORMATION SYSTEMS 3D INSY7314 LAB GUIDE 2025. [Online] 
Available at: https://advtechonline.sharepoint.com/:w:/r/sites/TertiaryStudents/_layouts/15/Doc.aspx?sourcedoc=%7BAB1212E5-A367-4729-B8EE-D76045935659%7D&file=INSY7314%20Lab%20Guide%202025.docx&action=default&mobileredirect=true
[Accessed 23 July 2025].
Manico, J. & Detlefsen, A., 2015. Iron-Clad Java Building Secure Web Applications. [Online] 
Available at: https://www.oreilly.com/library/view/iron-clad-java/9780071835886/
[Accessed 23 July 2025]. 
*/

/* 
Disclosure of AI Usage in my Assessment. 
Section(s) within the assessment in which generative AI was used: logging in
Name of AI tool(s) used: Claude 
Purpose/intention behind use: debugging the crfm
Date(s) in which generative AI was used: 8 October 2025 
A link to the actual generative AI chat, or screenshots of the chat:

 https://claude.ai/share/e40299e8-814a-4d1e-a74e-ea98147ee35c*/



 //------------------------- Kashvir Sewpersad ST10257503 -------------------------//
 //------------------------- References -------------------------------------------//
 // Auth0 - Blog. (2018). The Not-So-Easy Art of Logging Out. [online] Available at: https://auth0.com/blog/the-not-so-easy-art-of-logging-out/. [Accessed 1 october 2025].
 //Anshikasinghal (2024). Building a Secure User Authentication System: Login, Logout, and Signup Features. [online] Medium. Available at: https://medium.com/@anshikasinghal3014/building-a-secure-user-authentication-system-login-logout-and-signup-features-d2b35e7343d2 [Accessed 5 Oct. 2025].
 // web.dev. (2023). What makes for a good sign-out experience? [online] Available at: https://web.dev/articles/sign-out-best-practices.[Accessed 7 October 2025].
 // Owasp (2019). Input Validation OWASP Cheat Sheet Series. [online] Owasp.org. Available at: https://cheatsheetseries.owasp.org/cheatsheets/Input_Validation_Cheat_Sheet.html.[Accessed 2 October 2025].
 // ProgrammingKnowledge (2024). How to Install React JS In Visual Studio Code | How to Run React JS App in VS Code. [online] YouTube. Available at: https://www.youtube.com/watch?v=i41VU2d1Emk [Accessed 7 Oct. 2025].

 //*****************************Disclosure of AI usage - Kashvir Sewpersad ******************************** */
     /**
      * I Kashvir Sewpersad,the Student, ST10257503. hereby declare that i have made use of artificial intelligence (AI) in the creation of this project
      * The nature of my usage was primarily for debugging purposes and improving the quality of the work i produced.
      * below are links to interactions i had with the AI tools. 
      * 
      * https://chatgpt.com/share/68e7cdd6-dd04-8010-9fc5-5df8ef95f459
      * https://chatgpt.com/share/68e7ce8f-d2c4-8010-8e4a-844b21b6f709
      * https://chatgpt.com/share/68e7cf21-0ec0-8010-8234-1882dea0dc5b
      * https://chatgpt.com/share/68e7cfaa-6100-8010-835a-11885c6638af
      * https://chatgpt.com/share/68e7d0e0-c7c4-8010-8ffd-0991e7931fe5
      * 
      * */ 

//------------------------- Joshua Shields ST10255631 -------------------------//
//------------------------- References -------------------------------------------//
// Tshwane Institute of Technology. (2021). INFORMATION SYSTEMS 3D INSY7314 LAB GUIDE 2025. [Online]. Available at: https://advtechonline.sharepoint.com/:w:/r/sites/TertiaryStudents/_layouts/15/Doc.aspx?sourcedoc=%7BAB1212E5-A367-4729-B8EE-D76045935659%7D&file=INSY7314%20Lab%20Guide%202025.docx&action=default&mobileredirect=true [Accessed 23 July 2025].
// Manico, J. & Detlefsen, A. (2015). Iron-Clad Java: Building Secure Web Applications. [Online]. Available at: https://www.oreilly.com/library/view/iron-clad-java/9780071835886/ [Accessed 23 July 2025].
// Sonarsource.com. (2025). Homepage | Sonar Documentation. [online] Available at: https://docs.sonarsource.com/sonarqube-server. [Accessed 6 October 2025]
// OWASP (2012). Cross-Site Request Forgery Prevention · OWASP Cheat Sheet Series. [online] OWASP. Available at: https://cheatsheetseries.owasp.org/cheatsheets/Cross-Site_Request_Forgery_Prevention_Cheat_Sheet.html. [Accessed 22 September 2025]
// Auth0 (2024). JSON Web Token Introduction - jwt.io. [online] JSON Web Tokens - jwt.io. Available at: https://www.jwt.io/introduction#what-is-json-web-token. [Accessed 19 September 2025]
// Zanini, A. (2023). Using Helmet in Node.js to secure your application. [online] LogRocket Blog. Available at: https://blog.logrocket.com/using-helmet-node-js-secure-application/. [Accessed 18 September 2025]
// WittCode (2024). Node Password Hashing with bcrypt. [online] YouTube. Available at: https://www.youtube.com/watch?v=esa_t_-PJ6A [Accessed 19 September 2025].
// betterstackhq. (2025). Rate Limiting in Express.js | Better Stack Community. [online] Available at: https://betterstack.com/community/guides/scaling-nodejs/rate-limiting-express/ [Accessed 24 September 2025].
// OWASP (2025). Multifactor authentication - OWASP cheat sheet series. [online] cheatsheetseries.owasp.org. Available at: https://cheatsheetseries.owasp.org/cheatsheets/Multifactor_Authentication_Cheat_Sheet.html. [Accessed 26 September 2025]

//*****************************Disclosure of AI usage - Joshua Shields ******************************** */
/**
 * I Joshua Shields, the Student, ST10255631, hereby declare that I have made use of artificial intelligence (AI) in the creation of this project.
 * The nature of my usage was primarily for debugging purposes and improving the quality of the work I produced.
 * Below are links to interactions I had with the AI tools.
 *
 * Section(s) within the assessment in which generative AI was used: Trying to fix token issue
 * Name of AI tool(s) used: Claude
 * Purpose/intention behind use: debugging the csrf token for windows users
 * Date(s) in which generative AI was used: 7 October 2025
 * A link to the actual generative AI chat, or screenshots of the chat: https://claude.ai/share/c9c40d16-3a98-49eb-9ea9-c8d21d6ddf13
 *
 * Section(s) within the assessment in which generative AI was used: Trying to install packages
 * Name of AI tool(s) used: Claude
 * Purpose/intention behind use: Trying to get NPM packages
 * Date(s) in which generative AI was used: 1 October 2025
 * A link to the actual generative AI chat, or screenshots of the chat: https://claude.ai/share/87c4e337-d28d-4ef9-9a20-28e97172b058
 *
 * Section(s) within the assessment in which generative AI was used: Trying to debug why my JWT is not working
 * Name of AI tool(s) used: ChatGPT
 * Purpose/intention behind use: JWT issue
 * Date(s) in which generative AI was used: 4 October 2025
 * A link to the actual generative AI chat, or screenshots of the chat: https://chatgpt.com/share/68e7d1df-4048-8000-b3dd-91ef758282d3
 *
 * */

///-------------------------------------------------------------------------------------------------------///




//////////////////////////////////////////////////////////////////START OF FILE//////////////////////////////////////////////////////////////////

/**
 * User sees the Transaction form → User clicks on BankBridge logo →Toggles visibility of the Logout button 
 * User picks an option in the nav bar → international transactions → Chooses Immediate Payment toggle → Clicks Transfer (currently does nothing)
 */
import React, { useState } from 'react';
import { Box, Card, CardContent, TextField, Button, Switch, FormControlLabel, Avatar, Typography, Popover } from '@mui/material';

//////////////////////////////////////////////////////////////////VARIABLES//////////////////////////////////////////////////////////////////
const Dashboard = ({ onBack, onLogout }) => {
//////////////////////////////////////////////////////////////////VARIABLES//////////////////////////////////////////////////////////////////
  const [formData, setFormData] = useState({
    name: '',
    accountHolderName: '',
    accountNumber: '',
    bank: '',
    swiftCode: '',
    amount: '',
  });
  /**
   * manages the immediate payment toggle and logout popover
   */
  const [immediatePayment, setImmediatePayment] = useState(false);
  const [showLogout, setShowLogout] = useState(false); //determine whether to show the logout card

  /**
   * handles the logo click to toggle the logout card
   */

  const handleLogoClick = () => {
    setShowLogout(!showLogout);
  };

  const handleLogout = () => {
    if (onLogout) onLogout();
  };
/**
 * handles input changes for the form fields
 */
  const handleInputChange = (field) => (e) => {
    setFormData({
      ...formData,
      [field]: e.target.value,
    });
  };

  const handleTransfer = () => {
    // Transfer initiated
  };

// JSX for the layout and styling
  return (
    <Box
      sx={{
        minHeight: '100vh',
        background: 'linear-gradient(135deg, #ff9800 0%, #2196f3 100%)',
        display: 'flex',
        flexDirection: 'column',
        alignItems: 'center',
        py: 6,
        px: 2,
      }}
    >
      {/* Logo and Title */}
      <Box sx={{ textAlign: 'center', mb: 4, position: 'relative', zIndex: 1 }}>
        <Avatar
          onClick={handleLogoClick}
          sx={{
            width: 100,
            height: 100,
            margin: '0 auto',
            mb: 2,
            backgroundColor: 'white',
            boxShadow: '0 4px 20px rgba(0,0,0,0.1)',
            cursor: 'pointer',
            transition: 'all 0.2s ease-in-out',
            '&:hover': {
              boxShadow: '0 6px 24px rgba(0,0,0,0.15)',
              transform: 'scale(1.05)',
            },
          }}
        >
          <Typography
            variant="h6"
            sx={{
              color: '#000',
              fontWeight: 'bold',
              fontSize: '14px',
              textAlign: 'center',
              px: 1,
            }}
          >
            BankBridge
          </Typography>
        </Avatar>
        <Typography
          variant="h5"
          sx={{
            fontWeight: 'bold',
            color: '#000',
          }}
        >
          Transactions
        </Typography>
      </Box>

      {/* Form Card and Logout Card */}
      <Box sx={{ display: 'flex', gap: 2, alignItems: 'flex-start' }}>
        <Card
          sx={{
            width: '100%',
            maxWidth: 900,
            borderRadius: 3,
            boxShadow: '0 8px 32px rgba(0,0,0,0.1)',
          }}
        >
          <CardContent sx={{ p: 4 }}>
            <Box sx={{ display: 'flex', flexDirection: 'column', gap: 2.5 }}>
              {/* Name */}
              <TextField
                label="Name"
                fullWidth
                variant="filled"
                value={formData.name}
                onChange={handleInputChange('name')}
                sx={{
                  backgroundColor: '#d3d3d3',
                  '& .MuiFilledInput-root': {
                    backgroundColor: '#d3d3d3',
                    '&:hover': {
                      backgroundColor: '#d3d3d3',
                    },
                    '&.Mui-focused': {
                      backgroundColor: '#d3d3d3',
                    },
                  },
                }}
              />

              {/* Account Holder Name */}
              <TextField
                label="Account holder name"
                fullWidth
                variant="filled"
                value={formData.accountHolderName}
                onChange={handleInputChange('accountHolderName')}
                sx={{
                  backgroundColor: '#d3d3d3',
                  '& .MuiFilledInput-root': {
                    backgroundColor: '#d3d3d3',
                    '&:hover': {
                      backgroundColor: '#d3d3d3',
                    },
                    '&.Mui-focused': {
                      backgroundColor: '#d3d3d3',
                    },
                  },
                }}
              />

              {/* Account Number */}
              <TextField
                label="account number"
                fullWidth
                variant="filled"
                value={formData.accountNumber}
                onChange={handleInputChange('accountNumber')}
                sx={{
                  backgroundColor: '#d3d3d3',
                  '& .MuiFilledInput-root': {
                    backgroundColor: '#d3d3d3',
                    '&:hover': {
                      backgroundColor: '#d3d3d3',
                    },
                    '&.Mui-focused': {
                      backgroundColor: '#d3d3d3',
                    },
                  },
                }}
              />

              {/* Bank */}
              <TextField
                label="BANK"
                fullWidth
                variant="filled"
                value={formData.bank}
                onChange={handleInputChange('bank')}
                sx={{
                  backgroundColor: '#d3d3d3',
                  '& .MuiFilledInput-root': {
                    backgroundColor: '#d3d3d3',
                    '&:hover': {
                      backgroundColor: '#d3d3d3',
                    },
                    '&.Mui-focused': {
                      backgroundColor: '#d3d3d3',
                    },
                  },
                }}
              />

              {/* Swift Code */}
              <TextField
                label="Swift code"
                fullWidth
                variant="filled"
                value={formData.swiftCode}
                onChange={handleInputChange('swiftCode')}
                helperText="8-11 uppercase characters (e.g., SBZAZAJJ)"
                sx={{
                  backgroundColor: '#d3d3d3',
                  '& .MuiFilledInput-root': {
                    backgroundColor: '#d3d3d3',
                    '&.Mui-focused': {
                      backgroundColor: '#d3d3d3',
                    },
                  },
                }}
              />

              {/* Amount */}
              <TextField
                label="Amount"
                fullWidth
                variant="filled"
                value={formData.amount}
                onChange={handleInputChange('amount')}
                type="number"
                sx={{
                  backgroundColor: '#d3d3d3',
                  '& .MuiFilledInput-root': {
                    backgroundColor: '#d3d3d3',
                    '&:hover': {
                      backgroundColor: '#d3d3d3',
                    },
                    '&.Mui-focused': {
                      backgroundColor: '#d3d3d3',
                    },
                  },
                }}
              />

              {/* Transfer Button and Immediate Payment Toggle */}
              <Box
                sx={{
                  display: 'flex',
                  alignItems: 'center',
                  justifyContent: 'space-between',
                  mt: 2,
                  flexWrap: 'wrap',
                  gap: 2,
                }}
              >
                <Button
                  variant="contained"
                  onClick={handleTransfer}
                  sx={{
                    backgroundColor: '#7CB4F5',
                    color: '#000',
                    fontWeight: 'bold',
                    px: 6,
                    py: 1.5,
                    borderRadius: 2,
                    textTransform: 'none',
                    fontSize: '16px',
                    '&:hover': {
                      backgroundColor: '#6AA3E4',
                    },
                    minWidth: 200,
                  }}
                >
                  Transfer
                </Button>

                <FormControlLabel
                  control={
                    <Switch
                      checked={immediatePayment}
                      onChange={(e) => setImmediatePayment(e.target.checked)}
                      sx={{
                        '& .MuiSwitch-switchBase.Mui-checked': {
                          color: '#000',
                        },
                        '& .MuiSwitch-switchBase.Mui-checked + .MuiSwitch-track': {
                          backgroundColor: '#000',
                        },
                      }}
                    />
                  }
                  label="Immediate payment"
                  sx={{
                    '& .MuiFormControlLabel-label': {
                      fontWeight: 'bold',
                      color: '#000',
                    },
                  }}
                />
              </Box>
            </Box>
          </CardContent>
        </Card>

        {showLogout && (
          <Card
            sx={{
              minWidth: 200,
              backgroundColor: 'black',
              color: 'white',
              borderRadius: 2,
              p: 2,
            }}
          >
            <Button
              onClick={handleLogout}
              variant="contained"
              fullWidth
              sx={{
                backgroundColor: 'white',
                color: 'black',
                fontWeight: 'bold',
                py: 1.5,
                borderRadius: 1,
                textTransform: 'none',
                fontSize: '16px',
                '&:hover': {
                  backgroundColor: '#f0f0f0',
                },
              }}
            >
              Logout
            </Button>
          </Card>
        )}
      </Box>
    </Box>
  );
};

export default Dashboard;
//////////////////////////////////////////////////////////////////END OF FILE//////////////////////////////////////////////////////////////////